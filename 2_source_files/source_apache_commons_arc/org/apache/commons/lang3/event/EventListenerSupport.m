//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: jar:file:commons-lang3-3.4-sources.jar!org/apache/commons/lang3/event/EventListenerSupport.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/io/ByteArrayOutputStream.h"
#include "java/io/IOException.h"
#include "java/io/ObjectInputStream.h"
#include "java/io/ObjectOutputStream.h"
#include "java/lang/ClassLoader.h"
#include "java/lang/Thread.h"
#include "java/lang/reflect/Array.h"
#include "java/lang/reflect/InvocationHandler.h"
#include "java/lang/reflect/Method.h"
#include "java/lang/reflect/Proxy.h"
#include "java/util/ArrayList.h"
#include "java/util/List.h"
#include "java/util/concurrent/CopyOnWriteArrayList.h"
#include "org/apache/commons/lang3/Validate.h"
#include "org/apache/commons/lang3/event/EventListenerSupport.h"

@interface OrgApacheCommonsLang3EventEventListenerSupport () {
 @public
  id<JavaUtilList> listeners_;
  id proxy_;
  IOSObjectArray *prototypeArray_;
}

- (instancetype)init;

- (void)writeObjectWithJavaIoObjectOutputStream:(JavaIoObjectOutputStream *)objectOutputStream;

- (void)readObjectWithJavaIoObjectInputStream:(JavaIoObjectInputStream *)objectInputStream;

- (void)initializeTransientFieldsWithIOSClass:(IOSClass *)listenerInterface
                      withJavaLangClassLoader:(JavaLangClassLoader *)classLoader OBJC_METHOD_FAMILY_NONE;

- (void)createProxyWithIOSClass:(IOSClass *)listenerInterface
        withJavaLangClassLoader:(JavaLangClassLoader *)classLoader;

@end

J2OBJC_FIELD_SETTER(OrgApacheCommonsLang3EventEventListenerSupport, listeners_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(OrgApacheCommonsLang3EventEventListenerSupport, proxy_, id)
J2OBJC_FIELD_SETTER(OrgApacheCommonsLang3EventEventListenerSupport, prototypeArray_, IOSObjectArray *)

inline jlong OrgApacheCommonsLang3EventEventListenerSupport_get_serialVersionUID();
#define OrgApacheCommonsLang3EventEventListenerSupport_serialVersionUID 3593265990380473632LL
J2OBJC_STATIC_FIELD_CONSTANT(OrgApacheCommonsLang3EventEventListenerSupport, serialVersionUID, jlong)

__attribute__((unused)) static void OrgApacheCommonsLang3EventEventListenerSupport_init(OrgApacheCommonsLang3EventEventListenerSupport *self);

__attribute__((unused)) static OrgApacheCommonsLang3EventEventListenerSupport *new_OrgApacheCommonsLang3EventEventListenerSupport_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheCommonsLang3EventEventListenerSupport *create_OrgApacheCommonsLang3EventEventListenerSupport_init();

__attribute__((unused)) static void OrgApacheCommonsLang3EventEventListenerSupport_initializeTransientFieldsWithIOSClass_withJavaLangClassLoader_(OrgApacheCommonsLang3EventEventListenerSupport *self, IOSClass *listenerInterface, JavaLangClassLoader *classLoader);

__attribute__((unused)) static void OrgApacheCommonsLang3EventEventListenerSupport_createProxyWithIOSClass_withJavaLangClassLoader_(OrgApacheCommonsLang3EventEventListenerSupport *self, IOSClass *listenerInterface, JavaLangClassLoader *classLoader);

@interface OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler () {
 @public
  OrgApacheCommonsLang3EventEventListenerSupport *this$0_;
}

@end

@implementation OrgApacheCommonsLang3EventEventListenerSupport

+ (OrgApacheCommonsLang3EventEventListenerSupport *)createWithIOSClass:(IOSClass *)listenerInterface {
  return OrgApacheCommonsLang3EventEventListenerSupport_createWithIOSClass_(listenerInterface);
}

- (instancetype)initWithIOSClass:(IOSClass *)listenerInterface {
  OrgApacheCommonsLang3EventEventListenerSupport_initWithIOSClass_(self, listenerInterface);
  return self;
}

- (instancetype)initWithIOSClass:(IOSClass *)listenerInterface
         withJavaLangClassLoader:(JavaLangClassLoader *)classLoader {
  OrgApacheCommonsLang3EventEventListenerSupport_initWithIOSClass_withJavaLangClassLoader_(self, listenerInterface, classLoader);
  return self;
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheCommonsLang3EventEventListenerSupport_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (id)fire {
  return proxy_;
}

- (void)addListenerWithId:(id)listener {
  (void) OrgApacheCommonsLang3Validate_notNullWithId_withNSString_withNSObjectArray_(listener, @"Listener object cannot be null.", [IOSObjectArray newArrayWithLength:0 type:NSObject_class_()]);
  [((id<JavaUtilList>) nil_chk(listeners_)) addWithId:listener];
}

- (jint)getListenerCount {
  return [((id<JavaUtilList>) nil_chk(listeners_)) size];
}

- (void)removeListenerWithId:(id)listener {
  (void) OrgApacheCommonsLang3Validate_notNullWithId_withNSString_withNSObjectArray_(listener, @"Listener object cannot be null.", [IOSObjectArray newArrayWithLength:0 type:NSObject_class_()]);
  [((id<JavaUtilList>) nil_chk(listeners_)) removeWithId:listener];
}

- (IOSObjectArray *)getListeners {
  return [((id<JavaUtilList>) nil_chk(listeners_)) toArrayWithNSObjectArray:prototypeArray_];
}

- (void)writeObjectWithJavaIoObjectOutputStream:(JavaIoObjectOutputStream *)objectOutputStream {
  JavaUtilArrayList *serializableListeners = new_JavaUtilArrayList_init();
  JavaIoObjectOutputStream *testObjectOutputStream = new_JavaIoObjectOutputStream_initWithJavaIoOutputStream_(new_JavaIoByteArrayOutputStream_init());
  for (id __strong listener in nil_chk(listeners_)) {
    @try {
      [testObjectOutputStream writeObjectWithId:listener];
      [serializableListeners addWithId:listener];
    }
    @catch (JavaIoIOException *exception) {
      testObjectOutputStream = new_JavaIoObjectOutputStream_initWithJavaIoOutputStream_(new_JavaIoByteArrayOutputStream_init());
    }
  }
  [((JavaIoObjectOutputStream *) nil_chk(objectOutputStream)) writeObjectWithId:[serializableListeners toArrayWithNSObjectArray:prototypeArray_]];
}

- (void)readObjectWithJavaIoObjectInputStream:(JavaIoObjectInputStream *)objectInputStream {
  IOSObjectArray *srcListeners = (IOSObjectArray *) cast_check([((JavaIoObjectInputStream *) nil_chk(objectInputStream)) readObject], IOSClass_arrayType(NSObject_class_(), 1));
  self->listeners_ = new_JavaUtilConcurrentCopyOnWriteArrayList_initWithNSObjectArray_(srcListeners);
  IOSClass *listenerInterface = [[((IOSObjectArray *) nil_chk(srcListeners)) java_getClass] getComponentType];
  OrgApacheCommonsLang3EventEventListenerSupport_initializeTransientFieldsWithIOSClass_withJavaLangClassLoader_(self, listenerInterface, [((JavaLangThread *) nil_chk(JavaLangThread_currentThread())) getContextClassLoader]);
}

- (void)initializeTransientFieldsWithIOSClass:(IOSClass *)listenerInterface
                      withJavaLangClassLoader:(JavaLangClassLoader *)classLoader {
  OrgApacheCommonsLang3EventEventListenerSupport_initializeTransientFieldsWithIOSClass_withJavaLangClassLoader_(self, listenerInterface, classLoader);
}

- (void)createProxyWithIOSClass:(IOSClass *)listenerInterface
        withJavaLangClassLoader:(JavaLangClassLoader *)classLoader {
  OrgApacheCommonsLang3EventEventListenerSupport_createProxyWithIOSClass_withJavaLangClassLoader_(self, listenerInterface, classLoader);
}

- (id<JavaLangReflectInvocationHandler>)createInvocationHandler {
  return new_OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler_initWithOrgApacheCommonsLang3EventEventListenerSupport_(self);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "LOrgApacheCommonsLang3EventEventListenerSupport;", 0x9, 0, 1, -1, 2, -1, -1 },
    { NULL, NULL, 0x1, -1, 1, -1, 3, -1, -1 },
    { NULL, NULL, 0x1, -1, 4, -1, 5, -1, -1 },
    { NULL, NULL, 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, -1, -1, -1, 6, -1, -1 },
    { NULL, "V", 0x1, 7, 8, -1, 9, -1, -1 },
    { NULL, "I", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 10, 8, -1, 9, -1, -1 },
    { NULL, "[LNSObject;", 0x1, -1, -1, -1, 11, -1, -1 },
    { NULL, "V", 0x2, 12, 13, 14, -1, -1, -1 },
    { NULL, "V", 0x2, 15, 16, 17, -1, -1, -1 },
    { NULL, "V", 0x2, 18, 4, -1, 5, -1, -1 },
    { NULL, "V", 0x2, 19, 4, -1, 5, -1, -1 },
    { NULL, "LJavaLangReflectInvocationHandler;", 0x4, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(createWithIOSClass:);
  methods[1].selector = @selector(initWithIOSClass:);
  methods[2].selector = @selector(initWithIOSClass:withJavaLangClassLoader:);
  methods[3].selector = @selector(init);
  methods[4].selector = @selector(fire);
  methods[5].selector = @selector(addListenerWithId:);
  methods[6].selector = @selector(getListenerCount);
  methods[7].selector = @selector(removeListenerWithId:);
  methods[8].selector = @selector(getListeners);
  methods[9].selector = @selector(writeObjectWithJavaIoObjectOutputStream:);
  methods[10].selector = @selector(readObjectWithJavaIoObjectInputStream:);
  methods[11].selector = @selector(initializeTransientFieldsWithIOSClass:withJavaLangClassLoader:);
  methods[12].selector = @selector(createProxyWithIOSClass:withJavaLangClassLoader:);
  methods[13].selector = @selector(createInvocationHandler);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID", "J", .constantValue.asLong = OrgApacheCommonsLang3EventEventListenerSupport_serialVersionUID, 0x1a, -1, -1, -1, -1 },
    { "listeners_", "LJavaUtilList;", .constantValue.asLong = 0, 0x2, -1, -1, 20, -1 },
    { "proxy_", "LNSObject;", .constantValue.asLong = 0, 0x82, -1, -1, 21, -1 },
    { "prototypeArray_", "[LNSObject;", .constantValue.asLong = 0, 0x82, -1, -1, 22, -1 },
  };
  static const void *ptrTable[] = { "create", "LIOSClass;", "<T:Ljava/lang/Object;>(Ljava/lang/Class<TT;>;)Lorg/apache/commons/lang3/event/EventListenerSupport<TT;>;", "(Ljava/lang/Class<TL;>;)V", "LIOSClass;LJavaLangClassLoader;", "(Ljava/lang/Class<TL;>;Ljava/lang/ClassLoader;)V", "()TL;", "addListener", "LNSObject;", "(TL;)V", "removeListener", "()[TL;", "writeObject", "LJavaIoObjectOutputStream;", "LJavaIoIOException;", "readObject", "LJavaIoObjectInputStream;", "LJavaIoIOException;LJavaLangClassNotFoundException;", "initializeTransientFields", "createProxy", "Ljava/util/List<TL;>;", "TL;", "[TL;", "LOrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler;", "<L:Ljava/lang/Object;>Ljava/lang/Object;Ljava/io/Serializable;" };
  static const J2ObjcClassInfo _OrgApacheCommonsLang3EventEventListenerSupport = { "EventListenerSupport", "org.apache.commons.lang3.event", ptrTable, methods, fields, 7, 0x1, 14, 4, -1, 23, -1, 24, -1 };
  return &_OrgApacheCommonsLang3EventEventListenerSupport;
}

@end

OrgApacheCommonsLang3EventEventListenerSupport *OrgApacheCommonsLang3EventEventListenerSupport_createWithIOSClass_(IOSClass *listenerInterface) {
  OrgApacheCommonsLang3EventEventListenerSupport_initialize();
  return new_OrgApacheCommonsLang3EventEventListenerSupport_initWithIOSClass_(listenerInterface);
}

void OrgApacheCommonsLang3EventEventListenerSupport_initWithIOSClass_(OrgApacheCommonsLang3EventEventListenerSupport *self, IOSClass *listenerInterface) {
  OrgApacheCommonsLang3EventEventListenerSupport_initWithIOSClass_withJavaLangClassLoader_(self, listenerInterface, [((JavaLangThread *) nil_chk(JavaLangThread_currentThread())) getContextClassLoader]);
}

OrgApacheCommonsLang3EventEventListenerSupport *new_OrgApacheCommonsLang3EventEventListenerSupport_initWithIOSClass_(IOSClass *listenerInterface) {
  J2OBJC_NEW_IMPL(OrgApacheCommonsLang3EventEventListenerSupport, initWithIOSClass_, listenerInterface)
}

OrgApacheCommonsLang3EventEventListenerSupport *create_OrgApacheCommonsLang3EventEventListenerSupport_initWithIOSClass_(IOSClass *listenerInterface) {
  J2OBJC_CREATE_IMPL(OrgApacheCommonsLang3EventEventListenerSupport, initWithIOSClass_, listenerInterface)
}

void OrgApacheCommonsLang3EventEventListenerSupport_initWithIOSClass_withJavaLangClassLoader_(OrgApacheCommonsLang3EventEventListenerSupport *self, IOSClass *listenerInterface, JavaLangClassLoader *classLoader) {
  OrgApacheCommonsLang3EventEventListenerSupport_init(self);
  (void) OrgApacheCommonsLang3Validate_notNullWithId_withNSString_withNSObjectArray_(listenerInterface, @"Listener interface cannot be null.", [IOSObjectArray newArrayWithLength:0 type:NSObject_class_()]);
  (void) OrgApacheCommonsLang3Validate_notNullWithId_withNSString_withNSObjectArray_(classLoader, @"ClassLoader cannot be null.", [IOSObjectArray newArrayWithLength:0 type:NSObject_class_()]);
  OrgApacheCommonsLang3Validate_isTrueWithBoolean_withNSString_withNSObjectArray_([((IOSClass *) nil_chk(listenerInterface)) isInterface], @"Class {0} is not an interface", [IOSObjectArray newArrayWithObjects:(id[]){ [listenerInterface getName] } count:1 type:NSObject_class_()]);
  OrgApacheCommonsLang3EventEventListenerSupport_initializeTransientFieldsWithIOSClass_withJavaLangClassLoader_(self, listenerInterface, classLoader);
}

OrgApacheCommonsLang3EventEventListenerSupport *new_OrgApacheCommonsLang3EventEventListenerSupport_initWithIOSClass_withJavaLangClassLoader_(IOSClass *listenerInterface, JavaLangClassLoader *classLoader) {
  J2OBJC_NEW_IMPL(OrgApacheCommonsLang3EventEventListenerSupport, initWithIOSClass_withJavaLangClassLoader_, listenerInterface, classLoader)
}

OrgApacheCommonsLang3EventEventListenerSupport *create_OrgApacheCommonsLang3EventEventListenerSupport_initWithIOSClass_withJavaLangClassLoader_(IOSClass *listenerInterface, JavaLangClassLoader *classLoader) {
  J2OBJC_CREATE_IMPL(OrgApacheCommonsLang3EventEventListenerSupport, initWithIOSClass_withJavaLangClassLoader_, listenerInterface, classLoader)
}

void OrgApacheCommonsLang3EventEventListenerSupport_init(OrgApacheCommonsLang3EventEventListenerSupport *self) {
  NSObject_init(self);
  self->listeners_ = new_JavaUtilConcurrentCopyOnWriteArrayList_init();
}

OrgApacheCommonsLang3EventEventListenerSupport *new_OrgApacheCommonsLang3EventEventListenerSupport_init() {
  J2OBJC_NEW_IMPL(OrgApacheCommonsLang3EventEventListenerSupport, init)
}

OrgApacheCommonsLang3EventEventListenerSupport *create_OrgApacheCommonsLang3EventEventListenerSupport_init() {
  J2OBJC_CREATE_IMPL(OrgApacheCommonsLang3EventEventListenerSupport, init)
}

void OrgApacheCommonsLang3EventEventListenerSupport_initializeTransientFieldsWithIOSClass_withJavaLangClassLoader_(OrgApacheCommonsLang3EventEventListenerSupport *self, IOSClass *listenerInterface, JavaLangClassLoader *classLoader) {
  IOSObjectArray *array = (IOSObjectArray *) cast_check(JavaLangReflectArray_newInstanceWithIOSClass_withInt_(listenerInterface, 0), IOSClass_arrayType(NSObject_class_(), 1));
  self->prototypeArray_ = array;
  OrgApacheCommonsLang3EventEventListenerSupport_createProxyWithIOSClass_withJavaLangClassLoader_(self, listenerInterface, classLoader);
}

void OrgApacheCommonsLang3EventEventListenerSupport_createProxyWithIOSClass_withJavaLangClassLoader_(OrgApacheCommonsLang3EventEventListenerSupport *self, IOSClass *listenerInterface, JavaLangClassLoader *classLoader) {
  self->proxy_ = [((IOSClass *) nil_chk(listenerInterface)) cast:JavaLangReflectProxy_newProxyInstanceWithJavaLangClassLoader_withIOSClassArray_withJavaLangReflectInvocationHandler_(classLoader, [IOSObjectArray newArrayWithObjects:(id[]){ listenerInterface } count:1 type:IOSClass_class_()], [self createInvocationHandler])];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheCommonsLang3EventEventListenerSupport)

@implementation OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler

- (instancetype)initWithOrgApacheCommonsLang3EventEventListenerSupport:(OrgApacheCommonsLang3EventEventListenerSupport *)outer$ {
  OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler_initWithOrgApacheCommonsLang3EventEventListenerSupport_(self, outer$);
  return self;
}

- (id)invokeWithId:(id)unusedProxy
withJavaLangReflectMethod:(JavaLangReflectMethod *)method
 withNSObjectArray:(IOSObjectArray *)args {
  for (id __strong listener in nil_chk(this$0_->listeners_)) {
    (void) [((JavaLangReflectMethod *) nil_chk(method)) invokeWithId:listener withNSObjectArray:args];
  }
  return nil;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 0, 1, 2, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithOrgApacheCommonsLang3EventEventListenerSupport:);
  methods[1].selector = @selector(invokeWithId:withJavaLangReflectMethod:withNSObjectArray:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LOrgApacheCommonsLang3EventEventListenerSupport;", .constantValue.asLong = 0, 0x1012, -1, -1, 3, -1 },
  };
  static const void *ptrTable[] = { "invoke", "LNSObject;LJavaLangReflectMethod;[LNSObject;", "LNSException;", "Lorg/apache/commons/lang3/event/EventListenerSupport<TL;>;", "LOrgApacheCommonsLang3EventEventListenerSupport;" };
  static const J2ObjcClassInfo _OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler = { "ProxyInvocationHandler", "org.apache.commons.lang3.event", ptrTable, methods, fields, 7, 0x4, 2, 1, 4, -1, -1, -1, -1 };
  return &_OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler;
}

@end

void OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler_initWithOrgApacheCommonsLang3EventEventListenerSupport_(OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler *self, OrgApacheCommonsLang3EventEventListenerSupport *outer$) {
  self->this$0_ = outer$;
  NSObject_init(self);
}

OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler *new_OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler_initWithOrgApacheCommonsLang3EventEventListenerSupport_(OrgApacheCommonsLang3EventEventListenerSupport *outer$) {
  J2OBJC_NEW_IMPL(OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler, initWithOrgApacheCommonsLang3EventEventListenerSupport_, outer$)
}

OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler *create_OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler_initWithOrgApacheCommonsLang3EventEventListenerSupport_(OrgApacheCommonsLang3EventEventListenerSupport *outer$) {
  J2OBJC_CREATE_IMPL(OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler, initWithOrgApacheCommonsLang3EventEventListenerSupport_, outer$)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheCommonsLang3EventEventListenerSupport_ProxyInvocationHandler)
